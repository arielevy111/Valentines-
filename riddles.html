<!doctype html>
<html lang="he" dir="rtl">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>×—×™×“×•×ª ğŸ§©</title>
  <link rel="stylesheet" href="assets/style.css"/>
</head>
<body>
  <div class="card" id="card">
    <div class="header">
      <a class="btn soft" href="index.html">â¬… ×—×–×¨×”</a>
      <div class="badge">××©×—×§ 3/3</div>
    </div>

    <h1>3 ×—×™×“×•×ª ×§×˜× ×•×ª ğŸ§©</h1>
    <p>×¢× ×™, ×ª×‘×“×§×™, ×•×‘×¡×•×£ ×–×” ×¤×•×ª×— ××ª ×”×¡×•×£ ×”×’×“×•×œ.</p>

    <div class="grid">
      <div class="panel col-12">
        <b>×—×™×“×” 1</b>
        <div class="note">×× ×™ ×¢×•×œ×” ××‘×œ ×œ× ×™×•×¨×“, ×× ×™ ×™×›×•×œ ×œ×”×™××“×“ ××‘×œ ××™ ××¤×©×¨ ×œ×¢×¦×•×¨ ××•×ª×™. ××” ×× ×™?</div>
        <div style="margin-top:10px;">
          <input id="a1" placeholder="×”×ª×©×•×‘×” ×©×œ×š..."/>
          <div class="nav" style="margin-top:10px;">
            <button class="btn soft" onclick="check(1)">×‘×“×™×§×” âœ…</button>
            <button class="btn secondary" onclick="hint(1)">×¨××– ğŸ’¡</button>
          </div>
          <div class="toast" id="m1"></div>
        </div>
      </div>

      <div class="panel col-12">
        <b>×—×™×“×” 2</b>
        <div class="note">×™×© ×œ×™ ××¤×ª×—×•×ª ××‘×œ ××™×Ÿ ×œ×™ ×“×œ×ª×•×ª. ×× ×™ ×¢×•×©×” ××•×–×™×§×” ××‘×œ ××™×Ÿ ×œ×™ ×¤×”. ××” ×× ×™?</div>
        <div style="margin-top:10px;">
          <input id="a2" placeholder="×”×ª×©×•×‘×” ×©×œ×š..."/>
          <div class="nav" style="margin-top:10px;">
            <button class="btn soft" onclick="check(2)">×‘×“×™×§×” âœ…</button>
            <button class="btn secondary" onclick="hint(2)">×¨××– ğŸ’¡</button>
          </div>
          <div class="toast" id="m2"></div>
        </div>
      </div>

      <div class="panel col-12">
        <b>×—×™×“×” 3</b>
        <div class="note">×× ×™ ×”×“×‘×¨ ×”×›×™ ×—×–×§ ×‘×¢×•×œ×â€¦ ××‘×œ ×›×©××•××¨×™× ××•×ª×™ â€“ ×× ×™ × ×¢×œ×. ××” ×× ×™?</div>
        <div style="margin-top:10px;">
          <input id="a3" placeholder="×”×ª×©×•×‘×” ×©×œ×š..."/>
          <div class="nav" style="margin-top:10px;">
            <button class="btn soft" onclick="check(3)">×‘×“×™×§×” âœ…</button>
            <button class="btn secondary" onclick="hint(3)">×¨××– ğŸ’¡</button>
          </div>
          <div class="toast" id="m3"></div>
        </div>
      </div>

      <div class="panel col-12">
        <div class="kpi">
          <span>×¡×˜×˜×•×¡</span>
          <b id="status">0/3</b>
        </div>
        <div class="nav" style="margin-top:12px;">
          <a class="btn primary" href="final.html">×œ×¡×•×£ ×”×’×“×•×œ ğŸ</a>
        </div>
      </div>
    </div>
  </div>

<script>
  // English comments
  const answers = {
    1: ["×–××Ÿ","×”×–××Ÿ","time"],
    2: ["×¤×¡× ×ª×¨","×§×œ×™×“×™×","piano","keyboard"],
    3: ["×©×§×˜","×©×ª×™×§×”","silence","quiet"]
  };

  const hints = {
    1: "×¨××–: ×–×” ×ª××™×“ ×××©×™×šâ€¦",
    2: "×¨××–: ×× ×’× ×™× ×¢×œ×™×• ×¢× ×™×“×™×™×.",
    3: "×¨××–: ×× ×ª×“×‘×¨×™ ××•×ª×• â€“ ×”×•× ×›×‘×¨ ×œ× ×§×™×™×."
  };

  const done = {1:false,2:false,3:false};

  function norm(s){
    return (s||"").trim().toLowerCase().replace(/\s+/g,"");
  }

  function check(n){
    const val = document.getElementById("a"+n).value;
    const ok = answers[n].some(a => norm(a) === norm(val));
    const m = document.getElementById("m"+n);

    if(ok){
      done[n]=true;
      m.textContent = "âœ… × ×›×•×Ÿ! ×™×¤×”×”×”";
      updateStatus();
    }else{
      m.textContent = "ğŸ™‚ ×›××¢×˜â€¦ × ×¡×™ ×¢×•×“ ×¤×¢×";
    }
  }

  function hint(n){
    document.getElementById("m"+n).textContent = "ğŸ’¡ " + hints[n];
  }

  function updateStatus(){
    const count = Object.values(done).filter(Boolean).length;
    document.getElementById("status").textContent = `${count}/3`;

    if(count === 3){
      localStorage.setItem("val_riddles_done","1");
      document.getElementById("status").textContent = "3/3 âœ… × ×¤×ª×—!";
    }
  }

  // hearts
  const card = document.getElementById("card");
  for(let i=0;i<10;i++){
    const h=document.createElement("div");
    h.className="heart";
    h.style.left = Math.random()*100 + "%";
    h.style.top  = Math.random()*100 + "%";
    h.style.transform = `rotate(45deg) scale(${0.8 + Math.random()*1.6})`;
    card.appendChild(h);
  }
</script>
</body>
</html>
